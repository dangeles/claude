# Audience Document Templates

This file contains templates for the three audience-targeted documents generated in Phase 7.

## Overview

Phase 7 generates three documents, each tailored for a specific audience:

1. **Template A**: Researcher Narrative Plan (`researcher-plan.md`)
   - **Audience**: Domain researchers (biologists, chemists, physicists)
   - **Purpose**: Prose description of research plan without computational jargon
   - **Key constraint**: Zero fenced code blocks (prose-only)

2. **Template B**: Architect Handoff Document (`architect-handoff.md`)
   - **Audience**: Scientific analysis architects
   - **Purpose**: Design rationale, method choices, project state
   - **Key constraint**: Architect-to-architect language

3. **Template C**: Engineering Translation Document (`engineering-translation.md`)
   - **Audience**: Systems engineers and software teams
   - **Purpose**: Pipeline specification with resource requirements
   - **Key constraint**: Engineering requirements format

---

## Template A: Researcher Narrative Plan

**File**: `{output_dir}/researcher-plan.md`

**Content**:

```markdown
# Research Plan: {Project Title}

<!-- Generated by: scientific-analysis-architect v2.0.0 -->
<!-- Session: {session_id} -->
<!-- Phase: 7 -->
<!-- Audience: Domain Researchers -->
<!-- Timestamp: {iso8601_timestamp} -->

## Research Overview

{2-3 paragraphs describing the overall research project in accessible language.
What is the scientific question? Why does it matter? What approach will be taken?
Written as a narrative, not a technical specification.}

## Dataset Description

{Description of the data being analyzed. Written for someone who understands the
domain but not necessarily the computational methods. Include: data type, sample
counts, experimental conditions, key variables.}

## Research Questions

{Numbered list of the specific research questions this analysis plan addresses.
Each question should be stated as a scientific question, not a computational task.}

1. {Research question 1}
2. {Research question 2}
...

## Analysis Strategy

{1-2 paragraphs summarizing the overall analytical approach in plain language.
What kinds of analyses will be done and why? How do they build on each other?
Avoid method names where possible; describe what the methods accomplish.}

## Chapter 1: {Chapter Title}

### What This Chapter Accomplishes
{2-4 paragraphs describing the purpose and approach of this chapter in natural
language. What scientific question does it address? What will we learn?}

### What You Need to Provide
{Any researcher input needed: biological annotations, marker gene lists,
sample metadata, domain-specific thresholds, interpretation of results.}

### What to Expect
{Expected outputs described in domain terms. Not "a CSV file" but
"a list of differentially expressed genes with statistical significance."
Include approximate timelines if relevant.}

### Key Decision Points
{Decisions the researcher will need to make during or after this chapter.
E.g., "You will need to validate cluster annotations against known markers"
or "Choose whether to pursue pathway X or pathway Y based on initial results."}

## Chapter 2: {Chapter Title}
...

## Expected Outcomes

{Summary of what the completed analysis will deliver. Written as research
outcomes, not files. E.g., "A comprehensive atlas of cell types in the
tissue" rather than "an annotated AnnData object."}

## Decision Points

{Consolidated list of all points where researcher judgment is needed.
Referenced by chapter. This serves as a checklist for the researcher
to prepare for during the analysis.}

| Decision | Chapter | When | What You Need |
|----------|---------|------|---------------|
| {decision} | {N} | {timing} | {preparation} |

## Assumptions and Limitations

{Plain-language description of what the analysis assumes about the data
and what it cannot address. Written for a domain expert, not a statistician.}

## Next Steps After Completion

{What the researcher should do after the analysis is complete.
Review results, validate findings, plan follow-up experiments, etc.}
```

**Characteristics**:
- Zero fenced code blocks (validated by Gate 7)
- No technical jargon for methods (describe what methods do, not what they are called)
- Statistical concepts translated to domain language (e.g., "genes that change significantly" instead of "FDR < 0.05")
- Action-oriented for the researcher: what they need to do, decide, provide
- Length: 2-5 pages depending on chapter count

---

## Template B: Architect Handoff Document

**File**: `{output_dir}/.research-architecture/architect-handoff.md`

**Content**:

```markdown
# Architect Handoff: {Project Title}

<!-- Generated by: scientific-analysis-architect v2.0.0 -->
<!-- Session: {session_id} -->
<!-- Phase: 7 -->
<!-- Audience: Scientific Analysis Architects -->
<!-- Timestamp: {iso8601_timestamp} -->

## Project Summary

{Brief 1-paragraph summary of the project, dataset, and research goals.
Written for someone who understands analysis architecture.}

## Design Rationale

### Overall Architecture Decisions

{Why was this chapter structure chosen? What alternatives were considered?
What constraints shaped the design? Include any user preferences that
influenced the architecture.}

### Method Selection Log

{For each major method choice, document: what was chosen, what alternatives
existed, why this was selected, and under what conditions the choice should
be revisited.}

| Analysis | Method Chosen | Alternatives Considered | Rationale | Revisit If |
|----------|---------------|------------------------|-----------|------------|
| {analysis} | {method} | {alternatives} | {why} | {conditions} |

### Trade-Offs Accepted

{Explicit list of trade-offs that were knowingly accepted. E.g., "Chose speed
over accuracy for clustering by using Leiden instead of hierarchical."
Each trade-off should note what would change the calculus.}

1. **{Trade-off name}**: {Description}. Revisit if: {condition}.

### Assumptions Made

{List of assumptions about the data, biology, or computational environment.
These are things another architect should verify still hold before extending
the plan.}

## Thematic Organization

### Research Themes

{Bird's-eye view of the research themes and how chapters map to them.
An incoming architect should read this to understand the conceptual
organization, not just the chapter list.}

| Theme | Chapters | Purpose |
|-------|----------|---------|
| {theme} | {chapters} | {purpose} |

### Cross-Chapter Dependencies

{Dependency map with rationale for ordering. Not just "Chapter 3 depends
on Chapter 1" but "Chapter 3 requires the cell type annotations from
Chapter 1 because the DE analysis is stratified by cell type."}

## Current State

### Completed Work

{What has been done in this session. Phase-by-phase summary of decisions
made and artifacts produced.}

| Phase | Status | Key Outcomes | Artifacts |
|-------|--------|-------------|-----------|
| 0: Initialization | Complete | Session created | session-state.json |
| 1: Birds-Eye Planning | Complete | {N} chapters defined | research-structure.md |
| 2: Subsection Planning | Complete | {M} analyses planned | chapter*-notebook-plans.md |
| 3: Structure Review | Approved | {K} issues, {J} resolved | structure-review-report.md |
| 4: Plan Review | Approved | {K} issues, {J} resolved | notebook-review-report.md |
| 5: Document Generation | Complete | {N} analysis docs + overview | analysis docs, overview |
| 6: Statistical Fact-Check | Complete | {X} accepted, {Y} rejected | corrected docs, manifest |

### Statistical Review Outcomes

{Summary of what the fact-checker found and what was accepted/rejected.
Another architect needs to know what statistical choices were validated
and which were flagged but rejected by the user (and why).}

### Consultant Disagreements

{Any consultant conflicts from Phase 2 that were resolved. Document
what the disagreement was, how it was resolved, and the user's rationale.
This prevents a future architect from re-litigating settled decisions.}

## Open Questions

{Questions that arose during the workflow but were not resolved. These
are items for a future architect to address if extending the plan.}

1. {Open question 1}
2. {Open question 2}

## Continuation Guidance

### If Extending This Analysis

{Guidance for an architect who wants to add chapters or analyses to this
project. What patterns to follow, what constraints to respect, what
dependencies to be aware of.}

### If Revising This Analysis

{Guidance for an architect who wants to modify existing chapters. Which
phases would need re-running, what downstream effects to watch for.}

### If Starting a Related Project

{Guidance for an architect starting a new but related project. What
lessons from this project transfer, what would be done differently.}

## Session Metadata

- Session ID: {session_id}
- Created: {created_at}
- Completed: {completed_at}
- Chapters: {num_chapters}
- Total analyses: {num_analyses}
- Total corrections applied: {num_corrections}
- Skill version: scientific-analysis-architect v2.0.0
```

**Characteristics**:
- Written in architect-to-architect language (assumes knowledge of the skill's workflow)
- Decision-focused: emphasizes reasoning, not just outcomes
- Forward-looking: provides guidance for continuation
- References session artifacts by name for traceability
- Length: 2-4 pages depending on complexity

---

## Template C: Engineering Translation Document

**File**: `{output_dir}/.research-architecture/engineering-translation.md`

**Content**:

```markdown
# Engineering Specification: {Project Title}

<!-- Generated by: scientific-analysis-architect v2.0.0 -->
<!-- Session: {session_id} -->
<!-- Phase: 7 -->
<!-- Audience: Systems Engineers / Software Teams -->
<!-- Timestamp: {iso8601_timestamp} -->

## System Overview

{1-2 paragraphs describing the system to be built from an engineering
perspective. What does the pipeline do? What are the inputs and outputs?
What is the expected scale?}

## Pipeline Architecture

### High-Level Data Flow

{Text-based diagram showing the data pipeline stages.}

```
[Raw Data] -> [Stage 1: QC/Filter] -> [Stage 2: Normalize] -> ... -> [Final Outputs]
```

### Stage Descriptions

{For each processing stage (mapped from chapters/analyses):}

#### Stage {N}: {Stage Name} (from Chapter {M})

- **Purpose**: {What this stage does, in engineering terms}
- **Input**: {Data format, schema, expected size}
- **Output**: {Data format, schema, expected size}
- **Dependencies**: {Upstream stages that must complete first}
- **Estimated duration**: {Runtime estimate if available}
- **Parallelizable**: {Yes/No -- can this run concurrently with other stages?}

## Data Specifications

### Input Data

| Field | Type | Format | Size Estimate | Source |
|-------|------|--------|---------------|--------|
| {field} | {type} | {format} | {size} | {source} |

### Intermediate Data

| Artifact | Format | Produced By | Consumed By | Size Estimate |
|----------|--------|-------------|-------------|---------------|
| {artifact} | {format} | Stage {N} | Stage {M} | {size} |

### Output Data

| Artifact | Format | Description | Size Estimate |
|----------|--------|-------------|---------------|
| {artifact} | {format} | {description} | {size} |

## Processing Stages

{Detailed specification of each processing stage from an engineering
perspective. Each maps to one or more analysis documents.}

### Stage {N}: {Name}

**Source analysis document**: `chapter{X}_{slug}/analysis{X}_{Y}_{slug}.md`

**Functional requirements**:
- FR-{N}.1: {Requirement}
- FR-{N}.2: {Requirement}

**Performance requirements**:
- Expected input size: {size}
- Target execution time: {time or "no constraint"}
- Memory ceiling: {memory estimate}

**Error handling**:
- {What to do if input is malformed}
- {What to do if stage produces no results}
- {Validation checks on output}

**Key algorithms** (engineering summary):
- {Algorithm name}: {What it does in engineering terms, complexity, library}

## Resource Requirements

### Compute

| Resource | Minimum | Recommended | Notes |
|----------|---------|-------------|-------|
| CPU cores | {min} | {rec} | {notes} |
| RAM | {min} | {rec} | {notes} |
| GPU | {min} | {rec} | {notes} |
| Disk | {min} | {rec} | {notes} |

### Software Dependencies

| Package | Version | Purpose | License |
|---------|---------|---------|---------|
| {package} | {version} | {purpose} | {license} |

### External Services

{Any external services, databases, or APIs required. "None" if self-contained.}

## Dependencies

### Execution Order

{Dependency graph as an ordered list with parallel opportunities noted.}

1. Stage 1 (no dependencies)
2. Stage 2 (depends on: Stage 1)
3. Stage 3 and Stage 4 (parallel, both depend on: Stage 2)
4. Stage 5 (depends on: Stage 3, Stage 4)

### Critical Path

{Which stages are on the critical path? What is the minimum end-to-end time?}

## Integration Notes

### For programming-pm Users

{If using the programming-pm skill to implement this pipeline, the per-analysis
`.md` files in the output directory contain the detailed pseudocode. This
engineering translation provides the system context. Use both together.}

### Data Format Conventions

{Conventions used across all stages for data formats, naming, error codes, etc.}

### Logging and Monitoring

{What should be logged at each stage. Recommended log format.}

## Glossary

{Translation of domain-specific terms into engineering concepts.}

| Scientific Term | Engineering Equivalent | Context |
|----------------|----------------------|---------|
| {term} | {equivalent} | {where it appears} |
```

**Characteristics**:
- Zero domain jargon without translation (glossary at bottom)
- Structured as engineering requirements, not scientific narrative
- Includes resource sizing, performance expectations, error handling
- Maps directly to implementation work items
- Fenced code blocks allowed ONLY for data flow diagrams (not pseudocode)
- Length: 3-6 pages depending on pipeline complexity
